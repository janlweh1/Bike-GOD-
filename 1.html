<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bike Management - BikeRental Admin</title>
    <link rel="stylesheet" href="1.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <h2>BikeRental</h2>
        </div>
        <nav class="nav-menu">
            <a href="dashboard.html" class="nav-item">
                <span class="icon"><img src="dashboard.png" alt="Dashboard"></span>
                <span>Dashboard</span>
            </a>
            <a href="index.html" class="nav-item active">
                <span class="icon"><img src="bike-moving.png" alt="Bikes"></span>
                <span>Bikes</span>
            </a>
            <a href="customers.html" class="nav-item">
                <span class="icon"><img src="users.png" alt="Customers"></span>
                <span>Customers</span>
            </a>
            <a href="rentals.html" class="nav-item">
                <span class="icon"><img src="list.png" alt="Rentals"></span>
                <span>Rentals</span>
            </a>
            <a href="payments.html" class="nav-item">
                <span class="icon"><img src="wallet-arrow.png" alt="Payments"></span>
                <span>Payments</span>
            </a>
            <a href="settings.html" class="nav-item">
                <span class="icon"><img src="settings.png" alt="Settings"></span>
                <span>Settings</span>
            </a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search bikes by model, ID, or type...">
            </div>
            <div class="header-right">
                <button class="notification-btn"><img src="bell.png" alt="Notifications"></button>
                <a href="settings.html" class="user-profile">
                    <img src="profuser.png" alt="User Profile">
                    <span>Admin</span>
                </a>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <div class="page-header">
                <h1>Bike Management</h1>
                <button class="add-bike-btn" onclick="openAddModal()">+ Add New Bike</button>
            </div>

            <!-- Filter Section -->
            <div class="filter-section">
                <div class="filter-group">
                    <label>Status</label>
                    <select id="statusFilter">
                        <option value="all">All Status</option>
                        <option value="available">Available</option>
                        <option value="rented">Rented</option>
                        <option value="maintenance">Maintenance</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Bike Type</label>
                    <select id="typeFilter">
                        <option value="all">All Types</option>
                        <option value="city">City</option>
                        <option value="mountain">Mountain</option>
                        <option value="electric">Electric</option>
                        <option value="kids">Kids</option>
                        <option value="premium">Premium</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Condition</label>
                    <select id="conditionFilter">
                        <option value="all">All Conditions</option>
                        <option value="excellent">Excellent</option>
                        <option value="good">Good</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Price Range</label>
                    <select id="priceFilter">
                        <option value="all">All Prices</option>
                        <option value="0-100">₱0 - ₱100</option>
                        <option value="100-150">₱100 - ₱150</option>
                        <option value="150-200">₱150 - ₱200</option>
                        <option value="200+">₱200+</option>
                    </select>
                </div>
            </div>

            <!-- Bikes Grid -->
            <div class="bikes-grid" id="bikesGrid">
                <!-- Bikes will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <!-- Add New Bike Modal -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Bike</h2>
                <span class="close-modal" onclick="closeAddModal()">&times;</span>
            </div>
            <form id="addBikeForm">
                <div class="form-row">
                    <div class="form-group">
                        <label>Bike ID <span class="required">*</span></label>
                        <input type="text" id="addBikeId" placeholder="e.g., #B107" required>
                    </div>
                    <div class="form-group">
                        <label>Bike Model <span class="required">*</span></label>
                        <input type="text" id="addBikeModel" placeholder="e.g., Mountain Pro X" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Bike Type <span class="required">*</span></label>
                        <select id="addBikeType" required>
                            <option value="">Select Type</option>
                            <option value="city">City</option>
                            <option value="mountain">Mountain</option>
                            <option value="electric">Electric</option>
                            <option value="kids">Kids</option>
                            <option value="premium">Premium</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Rate per Hour (₱) <span class="required">*</span></label>
                        <input type="number" id="addBikePrice" placeholder="500" required min="0">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Condition <span class="required">*</span></label>
                        <select id="addBikeCondition" required>
                            <option value="">Select Condition</option>
                            <option value="excellent">Excellent</option>
                            <option value="good">Good</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Availability Status <span class="required">*</span></label>
                        <select id="addBikeStatus" required>
                            <option value="">Select Status</option>
                            <option value="available">Available</option>
                            <option value="rented">Rented</option>
                            <option value="maintenance">Maintenance</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Brand</label>
                        <input type="text" id="addBikeBrand" placeholder="e.g., Trek, Giant">
                    </div>
                    <div class="form-group">
                        <label>Color</label>
                        <input type="text" id="addBikeColor" placeholder="e.g., Black, Red">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Speed</label>
                        <input type="text" id="addBikeSpeed" placeholder="e.g., 25 km/h">
                    </div>
                    <div class="form-group">
                        <label>Weight</label>
                        <input type="text" id="addBikeWeight" placeholder="e.g., 15 kg">
                    </div>
                </div>

                <div class="form-group">
                    <label>Gears/Range</label>
                    <input type="text" id="addBikeGears" placeholder="e.g., 21 gears or 50km range">
                </div>

                <div class="form-group">
                    <label>Bike Image</label>
                    <div class="image-upload-area" id="addImageUploadArea">
                        <div class="upload-placeholder">
                            <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                                <path d="M24 16V32M16 24H32" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round"/>
                                <rect x="4" y="4" width="40" height="40" rx="8" stroke="#9CA3AF" stroke-width="2" stroke-dasharray="4 4"/>
                            </svg>
                            <p>Click to upload or drag and drop</p>
                            <p class="upload-hint">PNG, JPG or GIF (MAX. 5MB)</p>
                        </div>
                        <div class="image-preview-container" id="addImagePreview">
                            <img src="" alt="Preview">
                            <button type="button" class="remove-image-btn" onclick="removeAddImage()">Remove</button>
                        </div>
                        <input type="file" id="addBikeImage" accept="image/*" style="display: none;">
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="cancel-btn" onclick="closeAddModal()">Cancel</button>
                    <button type="submit" class="save-btn">Add Bike</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Bike Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Bike Details</h2>
                <span class="close-modal" onclick="closeEditModal()">&times;</span>
            </div>
            <form id="editBikeForm">
                <div class="form-group">
                    <label>Bike ID</label>
                    <input type="text" id="editBikeId" readonly>
                </div>
                <div class="form-group">
                    <label>Bike Model</label>
                    <input type="text" id="editBikeModel" required>
                </div>
                <div class="form-group">
                    <label>Bike Type</label>
                    <select id="editBikeType" required>
                        <option value="city">City</option>
                        <option value="mountain">Mountain</option>
                        <option value="electric">Electric</option>
                        <option value="kids">Kids</option>
                        <option value="premium">Premium</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Availability Status</label>
                    <select id="editBikeStatus" required>
                        <option value="available">Available</option>
                        <option value="rented">Rented</option>
                        <option value="maintenance">Maintenance</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Replace Image (optional)</label>
                    <input type="file" id="editBikeImage" accept="image/*">
                    <small style="color:#7f8c8d;display:block;margin-top:4px;">PNG, JPG, GIF, WEBP, AVIF (max 5MB)</small>
                </div>
                <div class="form-group">
                    <label>Condition</label>
                    <select id="editBikeCondition" required>
                        <option value="excellent">Excellent</option>
                        <option value="good">Good</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Rate per Hour (₱)</label>
                    <input type="number" id="editBikePrice" required min="0">
                </div>
                <div class="form-group">
                    <label>Speed</label>
                    <input type="text" id="editBikeSpeed" placeholder="e.g., 25 km/h">
                </div>
                <div class="form-group">
                    <label>Weight</label>
                    <input type="text" id="editBikeWeight" placeholder="e.g., 15 kg">
                </div>
                <div class="form-group">
                    <label>Gears/Range</label>
                    <input type="text" id="editBikeGears" placeholder="e.g., 21 gears">
                </div>
                <div class="form-group">
                    <label>Notes (Optional)</label>
                    <textarea id="editBikeNotes" rows="3" placeholder="Add any additional notes..."></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="cancel-btn" onclick="closeEditModal()">Cancel</button>
                    <button type="submit" class="save-btn">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content delete-modal-content">
            <div class="modal-header">
                <h2>Confirm Delete</h2>
                <span class="close-modal" onclick="closeDeleteModal()">&times;</span>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this bike?</p>
                <p class="delete-bike-name"></p>
                <p class="warning-text">This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="cancel-btn" onclick="closeDeleteModal()">Cancel</button>
                <button type="button" class="delete-confirm-btn" onclick="confirmDelete()">Delete</button>
            </div>
        </div>
    </div>

    <!-- Load shared bike database first -->
    <script src="shared-bikes-data.js"></script>
    <!-- Then load admin-specific functionality -->
    <script src="1.js"></script>
    <!-- Role label updater -->
    <script src="admin-header.js"></script>
</body>
</html>