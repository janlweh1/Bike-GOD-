// Bike data - 100+ different bikes
const bikes = [
    // Mountain Bikes (25)
    +{ id: 1, name: "Trail Blazer", type: "Mountain Bike", category: "mountain", speed: 25, weight: 14, gears: 21, price: 8, available: true, image: "01.jpg" }
    { id: 2, name: "Summit Pro", type: "Mountain Bike", category: "mountain", speed: 28, weight: 13, gears: 24, price: 10, available: true, image: "https://images.unsplash.com/photo-1559348349-86f1f65817fe?w=400&h=300&fit=crop" },
    { id: 3, name: "Peak Rider", type: "Mountain Bike", category: "mountain", speed: 24, weight: 15, gears: 18, price: 7, available: false, image: "https://images.unsplash.com/photo-1617043983671-adaadcaa2460?w=400&h=300&fit=crop" },
    { id: 4, name: "Rock Crusher", type: "Mountain Bike", category: "mountain", speed: 26, weight: 14.5, gears: 21, price: 9, available: true, image: "https://images.unsplash.com/photo-1541625602330-2277a4c46182?w=400&h=300&fit=crop" },
    { id: 5, name: "Alpine Master", type: "Mountain Bike", category: "mountain", speed: 30, weight: 12, gears: 27, price: 12, available: true, image: "https://images.unsplash.com/photo-1544191696-102dbdaeeaa0?w=400&h=300&fit=crop" },
    { id: 6, name: "Canyon Explorer", type: "Mountain Bike", category: "mountain", speed: 25, weight: 14, gears: 21, price: 8, available: true, image: "https://images.unsplash.com/photo-1576435728678-68d0fbf94e91?w=400&h=300&fit=crop" },
    { id: 7, name: "Dirt Demon", type: "Mountain Bike", category: "mountain", speed: 27, weight: 13.5, gears: 24, price: 10, available: false, image: "https://images.unsplash.com/photo-1559348349-86f1f65817fe?w=400&h=300&fit=crop" },
    { id: 8, name: "Ridge Runner", type: "Mountain Bike", category: "mountain", speed: 26, weight: 14, gears: 21, price: 9, available: true, image: "https://images.unsplash.com/photo-1617043983671-adaadcaa2460?w=400&h=300&fit=crop" },
    { id: 9, name: "Mountain King", type: "Mountain Bike", category: "mountain", speed: 29, weight: 12.5, gears: 27, price: 11, available: true, image: "https://images.unsplash.com/photo-1541625602330-2277a4c46182?w=400&h=300&fit=crop" },
    { id: 10, name: "Forest Tracker", type: "Mountain Bike", category: "mountain", speed: 24, weight: 15, gears: 18, price: 7, available: true, image: "https://images.unsplash.com/photo-1544191696-102dbdaeeaa0?w=400&h=300&fit=crop" },
    { id: 11, name: "Granite Beast", type: "Mountain Bike", category: "mountain", speed: 28, weight: 13, gears: 24, price: 10, available: true, image: "https://images.unsplash.com/photo-1576435728678-68d0fbf94e91?w=400&h=300&fit=crop" },
    { id: 12, name: "Terra Firma", type: "Mountain Bike", category: "mountain", speed: 25, weight: 14, gears: 21, price: 8, available: false, image: "https://images.unsplash.com/photo-1559348349-86f1f65817fe?w=400&h=300&fit=crop" },
    { id: 13, name: "Boulder Bouncer", type: "Mountain Bike", category: "mountain", speed: 27, weight: 13.5, gears: 24, price: 9, available: true, image: "https://images.unsplash.com/photo-1617043983671-adaadcaa2460?w=400&h=300&fit=crop" },
    { id: 14, name: "Cliff Hanger", type: "Mountain Bike", category: "mountain", speed: 26, weight: 14, gears: 21, price: 9, available: true, image: "https://images.unsplash.com/photo-1541625602330-2277a4c46182?w=400&h=300&fit=crop" },
    { id: 15, name: "Slope Master", type: "Mountain Bike", category: "mountain", speed: 30, weight: 12, gears: 27, price: 12, available: true, image: "https://images.unsplash.com/photo-1544191696-102dbdaeeaa0?w=400&h=300&fit=crop" },
    { id: 16, name: "Valley Cruiser", type: "Mountain Bike", category: "mountain", speed: 24, weight: 15, gears: 18, price: 7, available: true, image: "https://images.unsplash.com/photo-1576435728678-68d0fbf94e91?w=400&h=300&fit=crop" },
    { id: 17, name: "Highland Hero", type: "Mountain Bike", category: "mountain", speed: 28, weight: 13, gears: 24, price: 10, available: true, image: "https://images.unsplash.com/photo-1559348349-86f1f65817fe?w=400&h=300&fit=crop" },
    { id: 18, name: "Peak Performance", type: "Mountain Bike", category: "mountain", speed: 29, weight: 12.5, gears: 27, price: 11, available: false, image: "https://images.unsplash.com/photo-1617043983671-adaadcaa2460?w=400&h=300&fit=crop" },
    { id: 19, name: "Trail Titan", type: "Mountain Bike", category: "mountain", speed: 26, weight: 14, gears: 21, price: 9, available: true, image: "https://images.unsplash.com/photo-1541625602330-2277a4c46182?w=400&h=300&fit=crop" },
    { id: 20, name: "Rock Hopper", type: "Mountain Bike", category: "mountain", speed: 25, weight: 14.5, gears: 21, price: 8, available: true, image: "https://images.unsplash.com/photo-1544191696-102dbdaeeaa0?w=400&h=300&fit=crop" },
    { id: 21, name: "Summit Seeker", type: "Mountain Bike", category: "mountain", speed: 27, weight: 13.5, gears: 24, price: 10, available: true, image: "https://images.unsplash.com/photo-1576435728678-68d0fbf94e91?w=400&h=300&fit=crop" },
    { id: 22, name: "Alpine Adventure", type: "Mountain Bike", category: "mountain", speed: 28, weight: 13, gears: 24, price: 10, available: true, image: "https://images.unsplash.com/photo-1559348349-86f1f65817fe?w=400&h=300&fit=crop" },
    { id: 23, name: "Mountain Maverick", type: "Mountain Bike", category: "mountain", speed: 26, weight: 14, gears: 21, price: 9, available: true, image: "https://images.unsplash.com/photo-1617043983671-adaadcaa2460?w=400&h=300&fit=crop" },
    { id: 24, name: "Trail Tamer", type: "Mountain Bike", category: "mountain", speed: 25, weight: 14, gears: 21, price: 8, available: false, image: "https://images.unsplash.com/photo-1541625602330-2277a4c46182?w=400&h=300&fit=crop" },
    { id: 25, name: "Rugged Rider", type: "Mountain Bike", category: "mountain", speed: 27, weight: 13.5, gears: 24, price: 9, available: true, image: "https://images.unsplash.com/photo-1544191696-102dbdaeeaa0?w=400&h=300&fit=crop" },

    // City Bikes (30)
    { id: 26, name: "City Cruiser", type: "City Bike", category: "city", speed: 20, weight: 12, gears: 7, price: 5, available: true },
    { id: 27, name: "Urban Commuter", type: "City Bike", category: "city", speed: 22, weight: 11, gears: 8, price: 6, available: true },
    { id: 28, name: "Metro Rider", type: "City Bike", category: "city", speed: 20, weight: 12, gears: 7, price: 5, available: true },
    { id: 29, name: "Downtown Dasher", type: "City Bike", category: "city", speed: 21, weight: 11.5, gears: 8, price: 6, available: false },
    { id: 30, name: "Street Smart", type: "City Bike", category: "city", speed: 22, weight: 11, gears: 8, price: 6, available: true },
    { id: 31, name: "Uptown Express", type: "City Bike", category: "city", speed: 23, weight: 10.5, gears: 8, price: 7, available: true },
    { id: 32, name: "Boulevard Cruiser", type: "City Bike", category: "city", speed: 20, weight: 12, gears: 7, price: 5, available: true },
    { id: 33, name: "Town Tourer", type: "City Bike", category: "city", speed: 21, weight: 11.5, gears: 7, price: 5, available: true },
    { id: 34, name: "Urban Classic", type: "City Bike", category: "city", speed: 19, weight: 12.5, gears: 7, price: 5, available: false },
    { id: 35, name: "City Sleek", type: "City Bike", category: "city", speed: 22, weight: 11, gears: 8, price: 6, available: true },
    { id: 36, name: "Metro Master", type: "City Bike", category: "city", speed: 23, weight: 10.5, gears: 8, price: 7, available: true },
    { id: 37, name: "Commuter Pro", type: "City Bike", category: "city", speed: 22, weight: 11, gears: 8, price: 6, available: true },
    { id: 38, name: "City Glider", type: "City Bike", category: "city", speed: 20, weight: 12, gears: 7, price: 5, available: true },
    { id: 39, name: "Urban Flow", type: "City Bike", category: "city", speed: 21, weight: 11.5, gears: 8, price: 6, available: true },
    { id: 40, name: "Street Cruiser", type: "City Bike", category: "city", speed: 22, weight: 11, gears: 8, price: 6, available: false },
    { id: 41, name: "City Express", type: "City Bike", category: "city", speed: 23, weight: 10.5, gears: 8, price: 7, available: true },
    { id: 42, name: "Town Rider", type: "City Bike", category: "city", speed: 20, weight: 12, gears: 7, price: 5, available: true },
    { id: 43, name: "Urban Comfort", type: "City Bike", category: "city", speed: 19, weight: 12.5, gears: 7, price: 5, available: true },
    { id: 44, name: "City Wanderer", type: "City Bike", category: "city", speed: 21, weight: 11.5, gears: 7, price: 5, available: true },
    { id: 45, name: "Metro Glide", type: "City Bike", category: "city", speed: 22, weight: 11, gears: 8, price: 6, available: true },
    { id: 46, name: "Urban Spirit", type: "City Bike", category: "city", speed: 23, weight: 10.5, gears: 8, price: 7, available: false },
    { id: 47, name: "City Navigator", type: "City Bike", category: "city", speed: 20, weight: 12, gears: 7, price: 5, available: true },
    { id: 48, name: "Street Rider", type: "City Bike", category: "city", speed: 21, weight: 11.5, gears: 8, price: 6, available: true },
    { id: 49, name: "Downtown Cruiser", type: "City Bike", category: "city", speed: 22, weight: 11, gears: 8, price: 6, available: true },
    { id: 50, name: "City Comfort Plus", type: "City Bike", category: "city", speed: 20, weight: 12, gears: 7, price: 5, available: true },
    { id: 51, name: "Urban Voyager", type: "City Bike", category: "city", speed: 21, weight: 11.5, gears: 7, price: 5, available: true },
    { id: 52, name: "Metro Smooth", type: "City Bike", category: "city", speed: 22, weight: 11, gears: 8, price: 6, available: false },
    { id: 53, name: "City Breeze", type: "City Bike", category: "city", speed: 19, weight: 12.5, gears: 7, price: 5, available: true },
    { id: 54, name: "Town Explorer", type: "City Bike", category: "city", speed: 20, weight: 12, gears: 7, price: 5, available: true },
    { id: 55, name: "Urban Elegance", type: "City Bike", category: "city", speed: 23, weight: 10.5, gears: 8, price: 7, available: true },

    // Electric Bikes (25)
    { id: 56, name: "E-Bolt 3000", type: "Electric Bike", category: "electric", speed: 35, weight: 18, gears: 10, price: 15, available: true },
    { id: 57, name: "PowerRide Elite", type: "Electric Bike", category: "electric", speed: 40, weight: 19, gears: 12, price: 18, available: true },
    { id: 58, name: "EcoCharge", type: "Electric Bike", category: "electric", speed: 30, weight: 17, gears: 8, price: 12, available: false },
    { id: 59, name: "Volt Master", type: "Electric Bike", category: "electric", speed: 38, weight: 18.5, gears: 11, price: 16, available: true },
    { id: 60, name: "Thunder Bolt", type: "Electric Bike", category: "electric", speed: 42, weight: 20, gears: 12, price: 20, available: true },
    { id: 61, name: "E-Cruiser Pro", type: "Electric Bike", category: "electric", speed: 35, weight: 18, gears: 10, price: 15, available: true },
    { id: 62, name: "Charge Master", type: "Electric Bike", category: "electric", speed: 37, weight: 18.5, gears: 11, price: 16, available: false },
    { id: 63, name: "Volt Rider", type: "Electric Bike", category: "electric", speed: 33, weight: 17.5, gears: 9, price: 13, available: true },
    { id: 64, name: "E-Storm", type: "Electric Bike", category: "electric", speed: 40, weight: 19, gears: 12, price: 18, available: true },
    { id: 65, name: "Power Glide", type: "Electric Bike", category: "electric", speed: 36, weight: 18, gears: 10, price: 15, available: true },
    { id: 66, name: "Electric Dream", type: "Electric Bike", category: "electric", speed: 32, weight: 17, gears: 9, price: 13, available: true },
    { id: 67, name: "E-Force", type: "Electric Bike", category: "electric", speed: 39, weight: 19, gears: 11, price: 17, available: false },
    { id: 68, name: "Volt Vision", type: "Electric Bike", category: "electric", speed: 35, weight: 18, gears: 10, price: 15, available: true },
    { id: 69, name: "Thunder Charge", type: "Electric Bike", category: "electric", speed: 41, weight: 19.5, gears: 12, price: 19, available: true },
    { id: 70, name: "E-Swift", type: "Electric Bike", category: "electric", speed: 34, weight: 17.5, gears: 9, price: 14, available: true },
    { id: 71, name: "Power Wave", type: "Electric Bike", category: "electric", speed: 37, weight: 18.5, gears: 11, price: 16, available: true },
    { id: 72, name: "E-Velocity", type: "Electric Bike", category: "electric", speed: 38, weight: 18.5, gears: 11, price: 16, available: false },
    { id: 73, name: "Charge Rider", type: "Electric Bike", category: "electric", speed: 33, weight: 17.5, gears: 9, price: 13, available: true },
    { id: 74, name: "Volt Cruiser", type: "Electric Bike", category: "electric", speed: 36, weight: 18, gears: 10, price: 15, available: true },
    { id: 75, name: "E-Thunder", type: "Electric Bike", category: "electric", speed: 40, weight: 19, gears: 12, price: 18, available: true },
    { id: 76, name: "Power Pro", type: "Electric Bike", category: "electric", speed: 35, weight: 18, gears: 10, price: 15, available: true },
    { id: 77, name: "E-Surge", type: "Electric Bike", category: "electric", speed: 37, weight: 18.5, gears: 11, price: 16, available: false },
    { id: 78, name: "Volt Express", type: "Electric Bike", category: "electric", speed: 39, weight: 19, gears: 11, price: 17, available: true },
    { id: 79, name: "Thunder Ride", type: "Electric Bike", category: "electric", speed: 34, weight: 17.5, gears: 9, price: 14, available: true },
    { id: 80, name: "E-Pulse", type: "Electric Bike", category: "electric", speed: 36, weight: 18, gears: 10, price: 15, available: true },

    // Kids Bikes (15)
    { id: 81, name: "Little Explorer", type: "Kids Bike", category: "kids", speed: 15, weight: 8, gears: 1, price: 4, available: true },
    { id: 82, name: "Junior Rider", type: "Kids Bike", category: "kids", speed: 15, weight: 9, gears: 1, price: 4, available: true },
    { id: 83, name: "Tiny Cruiser", type: "Kids Bike", category: "kids", speed: 12, weight: 7, gears: 1, price: 3, available: false },
    { id: 84, name: "Fun Rider", type: "Kids Bike", category: "kids", speed: 15, weight: 8.5, gears: 1, price: 4, available: true },
    { id: 85, name: "Mini Master", type: "Kids Bike", category: "kids", speed: 18, weight: 9.5, gears: 3, price: 5, available: true },
    { id: 86, name: "Small Wonder", type: "Kids Bike", category: "kids", speed: 15, weight: 8, gears: 1, price: 4, available: true },
    { id: 87, name: "Kid Cruiser", type: "Kids Bike", category: "kids", speed: 16, weight: 8.5, gears: 1, price: 4, available: true },
    { id: 88, name: "Junior Explorer", type: "Kids Bike", category: "kids", speed: 17, weight: 9, gears: 3, price: 5, available: false },
    { id: 89, name: "Tiny Trekker", type: "Kids Bike", category: "kids", speed: 14, weight: 7.5, gears: 1, price: 3, available: true },
    { id: 90, name: "Little Rider", type: "Kids Bike", category: "kids", speed: 15, weight: 8, gears: 1, price: 4, available: true },
    { id: 91, name: "Mini Cruiser", type: "Kids Bike", category: "kids", speed: 16, weight: 8.5, gears: 1, price: 4, available: true },
    { id: 92, name: "Fun Explorer", type: "Kids Bike", category: "kids", speed: 15, weight: 8, gears: 1, price: 4, available: true },
    { id: 93, name: "Junior Star", type: "Kids Bike", category: "kids", speed: 18, weight: 9.5, gears: 3, price: 5, available: false },
    { id: 94, name: "Little Champion", type: "Kids Bike", category: "kids", speed: 17, weight: 9, gears: 3, price: 5, available: true },
    { id: 95, name: "Tiny Star", type: "Kids Bike", category: "kids", speed: 14, weight: 7.5, gears: 1, price: 3, available: true },

    // Premium Bikes (10)
    { id: 96, name: "Elite Racer Pro", type: "Premium Bike", category: "premium", speed: 50, weight: 6.5, gears: 24, price: 25, available: true },
    { id: 97, name: "Carbon Speedster", type: "Premium Bike", category: "premium", speed: 52, weight: 6, gears: 27, price: 30, available: true },
    { id: 98, name: "Aero Master", type: "Premium Bike", category: "premium", speed: 48, weight: 7, gears: 22, price: 22, available: false },
    { id: 99, name: "Pro Velocity", type: "Premium Bike", category: "premium", speed: 51, weight: 6.2, gears: 24, price: 28, available: true },
    { id: 100, name: "Racing Legend", type: "Premium Bike", category: "premium", speed: 53, weight: 5.8, gears: 27, price: 32, available: true },
    { id: 101, name: "Speed Demon Pro", type: "Premium Bike", category: "premium", speed: 49, weight: 6.8, gears: 22, price: 24, available: true },
    { id: 102, name: "Elite Performance", type: "Premium Bike", category: "premium", speed: 50, weight: 6.5, gears: 24, price: 26, available: false },
    { id: 103, name: "Carbon Elite", type: "Premium Bike", category: "premium", speed: 52, weight: 6, gears: 27, price: 30, available: true },
    { id: 104, name: "Pro Racer X", type: "Premium Bike", category: "premium", speed: 51, weight: 6.3, gears: 24, price: 27, available: true },
    { id: 105, name: "Ultimate Speed", type: "Premium Bike", category: "premium", speed: 54, weight: 5.5, gears: 30, price: 35, available: true },
];

// Generate bike images (placeholder)
function getBikeImage(category, id) {
    const colors = ['e0f7fa', 'f3e5f5', 'fff3e0', 'e8f5e9', 'fce4ec'];
    const color = colors[id % colors.length];
    return `https://placehold.co/400x300/${color}/666?text=${category.toUpperCase()}`;
}

// Render bikes
function renderBikes(bikesToRender) {
    const grid = document.getElementById('bikesGrid');
    grid.innerHTML = '';
    
    bikesToRender.forEach(bike => {
        const card = document.createElement('div');
        card.className = 'bike-card';
        card.dataset.category = bike.category;
        
        card.innerHTML = `
            <img src="${getBikeImage(bike.category, bike.id)}" alt="${bike.name}" class="bike-image">
            <span class="availability-badge ${bike.available ? 'available' : 'not-available'}">
                ${bike.available ? 'Available' : 'Not Available'}
            </span>
            <div class="bike-info">
                <h3 class="bike-name">${bike.name}</h3>
                <p class="bike-type">${bike.type}</p>
                <div class="bike-specs">
                    <span class="spec">⚡ ${bike.speed} km/h</span>
                    <span class="spec">⚖️ ${bike.weight} kg</span>
                    <span class="spec">⚙️ ${bike.gears} gears</span>
                </div>
                <div class="bike-footer">
                    <div class="price">
                        $${bike.price}<span class="price-unit">/hour</span>
                    </div>
                    ${bike.available ? 
                        `<button class="rent-btn" onclick="openRentalModal(${bike.id})">Rent Now</button>` :
                        `<button class="notify-btn">Notify Me</button>`
                    }
                </div>
            </div>
        `;
        
        grid.appendChild(card);
    });
}

// Filter bikes
function filterBikes(category) {
    if (category === 'all') {
        return bikes;
    }
    return bikes.filter(bike => bike.category === category);
}

// Tab filtering
document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        const filter = this.dataset.filter;
        const filteredBikes = filterBikes(filter);
        renderBikes(filteredBikes);
    });
});

// Modal functionality
const modal = document.getElementById('rentalModal');
const closeBtn = document.querySelector('.close-btn');
let selectedBike = null;

function openRentalModal(bikeId) {
    selectedBike = bikes.find(b => b.id === bikeId);
    if (!selectedBike) return;
    
    // Update modal content
    document.getElementById('summaryBikeImg').src = getBikeImage(selectedBike.category, selectedBike.id);
    document.getElementById('summaryBikeName').textContent = selectedBike.name;
    document.getElementById('summaryBikeType').textContent = selectedBike.type;
    document.getElementById('summaryRate').textContent = `$${selectedBike.price}/hour`;
    
    updateSummary();
    
    modal.style.display = 'block';
    document.body.style.overflow = 'hidden';
}

closeBtn.onclick = function() {
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
}

// Duration controls
const decreaseBtn = document.getElementById('decreaseBtn');
const increaseBtn = document.getElementById('increaseBtn');
const durationInput = document.getElementById('durationInput');

decreaseBtn.addEventListener('click', () => {
    let value = parseInt(durationInput.value);
    if (value > 1) {
        durationInput.value = value - 1;
        updateSummary();
    }
});

increaseBtn.addEventListener('click', () => {
    let value = parseInt(durationInput.value);
    if (value < 24) {
        durationInput.value = value + 1;
        updateSummary();
    }
});

function updateSummary() {
    if (!selectedBike) return;
    
    const duration = parseInt(durationInput.value);
    const subtotal = selectedBike.price * duration;
    
    document.getElementById('summaryDuration').textContent = `${duration} hour${duration > 1 ? 's' : ''}`;
    document.getElementById('summarySubtotal').textContent = `$${subtotal.toFixed(2)}`;
    document.getElementById('summaryTotal').textContent = `$${subtotal.toFixed(2)}`;
}

// File upload
const uploadArea = document.getElementById('uploadArea');
const idUpload = document.getElementById('idUpload');
const fileName = document.getElementById('fileName');

uploadArea.addEventListener('click', () => {
    idUpload.click();
});

idUpload.addEventListener('change', (e) => {
    if (e.target.files.length > 0) {
        fileName.textContent = `✓ ${e.target.files[0].name}`;
    }
});

// Form submission
document.getElementById('rentalForm').addEventListener('submit', (e) => {
    e.preventDefault();
    
    alert(`Rental confirmed for ${selectedBike.name}!\n\nNext steps:\n1. Valid ID required for pickup\n2. Helmet included with rental\n3. Late returns subject to additional charges\n\nThank you for choosing BikeRental!`);
    
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
    
    // Reset form
    e.target.reset();
    fileName.textContent = '';
    durationInput.value = 1;
});

// Initial render
renderBikes(bikes);